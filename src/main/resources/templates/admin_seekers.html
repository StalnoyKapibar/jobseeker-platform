<!doctype html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Панель администратора">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>

    <title>Панель администратора</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="/css/dashboard.css" rel="stylesheet">

    <link href="/css/main.css" rel="stylesheet">

</head>

<body>

<th:block th:include="fragments :: header"></th:block>

<div class="container-fluid">
    <div class="row">

        <th:block th:include="fragments :: left-nav-bar"></th:block>

        <main role="main" class="col-md-9 ml-sm-auto col-lg-10 px-4" id="main_admin_page">
            <br/>
            <div class="row">
                <h2>Все соискатели</h2>
            </div>
            <br>
            <div class="row">
                <div class="col-2">
                    <form class="form-inline">
                        <div class="form-group">
                            <label for="sorBy" style="padding-right: 10px;"> Sort by </label>
                            <select id="sorBy" class="browser-default custom-select">
                                <option value="DESC">Last visit</option>
                                <option value="ASC">First visit</option>
                            </select>
                        </div>
                    </form>
                </div>
                <div class="col-8"></div>
                <div class="col-2" style="padding-right: 0">
                    <form class="form-inline">
                        <div class="form-group">
                            <label for="viewBy" style="padding-right: 10px;">View by</label>
                            <select id="viewBy" class="browser-default custom-select">
                                <option value="10">10</option>
                                <option value="5">5</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                            </select>
                        </div>
                    </form>
                </div>

                <br>
            </div>
            <br>
            <div class="row">
                <div class="table-responsive">
                    <table id="seekerTable" class="table table-striped table-sm table-bordered sort-order"
                           cellspacing="0"
                           width="100%">
                        <thead align="center">
                        <tr>
                            <th>Id</th>
                            <th>Email</th>
                            <th>Last Visit</th>
                            <th>Action</th>
                        </tr>
                        </thead>
                        <tbody align="center">
                        <tr th:each="seeker : ${seekers}">
                            <td th:text="${seeker.id}"></td>
                            <td th:text="${seeker.email}"></td>
                            <td th:text="${seeker.date}"></td>
                            <td>
                                <button th:onclick="'editSeeker(\'' + ${seeker.id} + '\');'" type="button"
                                        class="btn btn-primary">Edit
                                    Seeker
                                </button>
                                <button th:onclick="'deleteSeeker(\'' + ${seeker.id} + '\');'" type="button"
                                        class="btn btn-primary">
                                    Delete Seeker
                                </button>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <nav aria-label="Pagination" th:if="${seekers.totalPages gt 0}">
                <ul id="pagList" class="pagination justify-content-right font-weight-bold">
                    <li class="page-item" th:classappend="${seekers.number eq 0} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{/admin/seekers?page={id}(id=${seekers.number lt 2 ? 1 : seekers.number})}"
                           aria-label="Previous" title="Previous Page" data-toggle="tooltip">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                    <li class="page-item" th:classappend="${i eq seekers.number + 1} ? 'active'"
                        th:each="i : ${#numbers.sequence( 1, seekers.totalPages, 1)}">
                        <a class="page-link" th:href="@{/admin/seekers?page={id}(id=${i})}" th:text="${i}"
                           th:title="${'Page '+ i}" data-toggle="tooltip"></a>
                    </li>
                    <li class="page-item" th:classappend="${seekers.number + 1 eq seekers.totalPages} ? 'disabled'">
                        <a class="page-link"
                           th:href="@{/admin/seekers?page={id}(id=${seekers.number + 2})}"
                           aria-label="Next" title="Next Page" data-toggle="tooltip">
                            <span aria-hidden="true">&raquo;</span>
                        </a>
                    </li>
                </ul>
            </nav>
        </main>

    </div>
</div>

<th:block th:include="fragments :: footer"></th:block>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/feather-icons/4.9.0/feather.min.js"></script>
<script src="/js/admin_seekers.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.3/Chart.min.js"></script>

</body>
</html>